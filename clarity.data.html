

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>clarity.data package &mdash; pyClarity 0.7.1.post21 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5cc28f93"></script>
      <script src="_static/doctools.js?v=9a2dae69"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            pyClarity
              <img src="_static/challenges.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pyClarity</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">clarity.data package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/clarity.data.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="clarity-data-package">
<h1>clarity.data package<a class="headerlink" href="#clarity-data-package" title="Link to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-clarity.data.HOA_tools_cec2">
<span id="clarity-data-hoa-tools-cec2-module"></span><h2>clarity.data.HOA_tools_cec2 module<a class="headerlink" href="#module-clarity.data.HOA_tools_cec2" title="Link to this heading"></a></h2>
<p>Tools to support higher order ambisonic processing.</p>
<dl class="py class">
<dt class="sig sig-object py" id="clarity.data.HOA_tools_cec2.HOARotator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">clarity.data.HOA_tools_cec2.</span></span><span class="sig-name descname"><span class="pre">HOARotator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clarity/data/HOA_tools_cec2.html#HOARotator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.HOA_tools_cec2.HOARotator" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Provides methods for rotating ambisonics.</p>
<dl class="py method">
<dt class="sig sig-object py" id="clarity.data.HOA_tools_cec2.HOARotator.rotate">
<span class="sig-name descname"><span class="pre">rotate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation_vector</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="reference internal" href="_modules/clarity/data/HOA_tools_cec2.html#HOARotator.rotate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.HOA_tools_cec2.HOARotator.rotate" title="Link to this definition"></a></dt>
<dd><p>Apply rotation to HOA signals using precomputed rotation matrices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signal</strong> (<em>array-like</em>) – ambisonic signals</p></li>
<li><p><strong>rotation_vector</strong> (<em>array-like</em>) – rotation vector (in radians)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>transformed ambisonic signals</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>array-like</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.HOA_tools_cec2.P">
<span class="sig-prename descclassname"><span class="pre">clarity.data.HOA_tools_cec2.</span></span><span class="sig-name descname"><span class="pre">P</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation_matrices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numba.typed.List</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numba.typed.List</span></span></span><a class="headerlink" href="#clarity.data.HOA_tools_cec2.P" title="Link to this definition"></a></dt>
<dd><p>P function for rotation matrix calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<em>int</em>) – index</p></li>
<li><p><strong>a</strong> (<em>int</em>) – ‘a’ value</p></li>
<li><p><strong>b</strong> (<em>int</em>) – ‘b’ value</p></li>
<li><p><strong>order</strong> (<em>int</em>) – order</p></li>
<li><p><strong>r</strong> (<em>list</em><em>(</em><em>matrix</em><em>)</em>) – rotation matrices</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>P value</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.HOA_tools_cec2.U">
<span class="sig-prename descclassname"><span class="pre">clarity.data.HOA_tools_cec2.</span></span><span class="sig-name descname"><span class="pre">U</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">degree</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation_matrices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numba.typed.List</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numba.typed.List</span></span></span><a class="headerlink" href="#clarity.data.HOA_tools_cec2.U" title="Link to this definition"></a></dt>
<dd><p>U coefficient initialiser for rotation matrix calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rotation_degree</strong> (<em>int</em>) – Upper parameters of spherical harmonic
component Y and n the lower.</p></li>
<li><p><strong>n</strong> (<em>int</em>) – index</p></li>
<li><p><strong>order</strong> (<em>int</em>) – order</p></li>
<li><p><strong>rotation_matrices</strong> (<em>list</em><em>(</em><em>matrix</em><em>)</em>) – rotation matrices</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>U value</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.HOA_tools_cec2.V">
<span class="sig-prename descclassname"><span class="pre">clarity.data.HOA_tools_cec2.</span></span><span class="sig-name descname"><span class="pre">V</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">degree</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation_matrices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numba.typed.List</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numba.typed.List</span></span></span><a class="headerlink" href="#clarity.data.HOA_tools_cec2.V" title="Link to this definition"></a></dt>
<dd><p>V coefficient initialiser for rotation matrix calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>degree</strong> (<em>int</em>) – valid inputs are <cite>int(|m|) &lt;= order</cite>.</p></li>
<li><p><strong>n</strong> (<em>int</em>) – index</p></li>
<li><p><strong>order</strong> (<em>int</em>) – order</p></li>
<li><p><strong>rotation_matrices</strong> (<em>list</em><em>(</em><em>matrix</em><em>)</em>) – rotation matrices</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>V value</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.HOA_tools_cec2.W">
<span class="sig-prename descclassname"><span class="pre">clarity.data.HOA_tools_cec2.</span></span><span class="sig-name descname"><span class="pre">W</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">degree</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation_matrices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numba.typed.List</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numba.typed.List</span></span></span><a class="headerlink" href="#clarity.data.HOA_tools_cec2.W" title="Link to this definition"></a></dt>
<dd><p>W coefficient initialiser for rotation matrix calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>degree</strong> (<em>int</em>) – degree</p></li>
<li><p><strong>n</strong> (<em>int</em>) – index</p></li>
<li><p><strong>order</strong> (<em>int</em>) – order</p></li>
<li><p><strong>rotation_matrices</strong> (<em>list</em><em>(</em><em>matrix</em><em>)</em>) – rotation matrices</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>W value</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.HOA_tools_cec2.ambisonic_convolve">
<span class="sig-prename descclassname"><span class="pre">clarity.data.HOA_tools_cec2.</span></span><span class="sig-name descname"><span class="pre">ambisonic_convolve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hoa_impulse_responses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="reference internal" href="_modules/clarity/data/HOA_tools_cec2.html#ambisonic_convolve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.HOA_tools_cec2.ambisonic_convolve" title="Link to this definition"></a></dt>
<dd><p>Convolve HOA Impulse Responses with signals.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signal</strong> (<em>ndarray</em><em>[</em><em>samples</em><em>]</em>) – the signal to convole</p></li>
<li><p><strong>hoa_impulse_response</strong> (<em>ndarray</em><em>[</em><em>samples</em><em>, </em><em>channels</em><em>]</em>) – the HOA impulse responses</p></li>
<li><p><strong>order</strong> (<em>int</em><em>, </em><em>optional</em>) – ambisonic order.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the convolved signal</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray[samples, channels]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.HOA_tools_cec2.binaural_mixdown">
<span class="sig-prename descclassname"><span class="pre">clarity.data.HOA_tools_cec2.</span></span><span class="sig-name descname"><span class="pre">binaural_mixdown</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ambisonic_signals</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrir_metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="reference internal" href="_modules/clarity/data/HOA_tools_cec2.html#binaural_mixdown"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.HOA_tools_cec2.binaural_mixdown" title="Link to this definition"></a></dt>
<dd><p>Perform binaural mixdown of ambisonic signals.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ambisonic_signals</strong> (<em>array-like</em>) – inputs</p></li>
<li><p><strong>hrir_filename</strong> (<em>string</em>) – name of HRIR file</p></li>
<li><p><strong>hrir_metadata</strong> (<em>dict</em>) – data for channel selection and ambisonic decoding</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>stereo audio</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.HOA_tools_cec2.centred_element">
<span class="sig-prename descclassname"><span class="pre">clarity.data.HOA_tools_cec2.</span></span><span class="sig-name descname"><span class="pre">centred_element</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reference</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#clarity.data.HOA_tools_cec2.centred_element" title="Link to this definition"></a></dt>
<dd><p>Get value from centered element indexing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reference</strong> (<em>matrix</em>) – reference input matrix</p></li>
<li><p><strong>row</strong> (<em>int</em>) – row index</p></li>
<li><p><strong>col</strong> (<em>int</em>) – column index</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>matrix element</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Any</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.HOA_tools_cec2.compute_UVW_coefficients">
<span class="sig-prename descclassname"><span class="pre">clarity.data.HOA_tools_cec2.</span></span><span class="sig-name descname"><span class="pre">compute_UVW_coefficients</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">degree</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#clarity.data.HOA_tools_cec2.compute_UVW_coefficients" title="Link to this definition"></a></dt>
<dd><p>Compute U, V and W coefficients for rotation matrix calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>index</em>) – degree</p></li>
<li><p><strong>n</strong> (<em>index</em>) – index</p></li>
<li><p><strong>el</strong> (<em>index</em>) – order</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>u, v, w</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.HOA_tools_cec2.compute_band_rotation">
<span class="sig-prename descclassname"><span class="pre">clarity.data.HOA_tools_cec2.</span></span><span class="sig-name descname"><span class="pre">compute_band_rotation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation_matrices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numba.typed.List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#clarity.data.HOA_tools_cec2.compute_band_rotation" title="Link to this definition"></a></dt>
<dd><p>Compute submatrix for rotation matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>order</strong> (<em>int</em>) – order of submatrix</p></li>
<li><p><strong>rotationmatrices</strong> (<em>list</em><em>(</em><em>matrix</em><em>)</em>) – previous and current submatrices</p></li>
<li><p><strong>output</strong> (<em>matrix</em>) – output destination</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>rotation submatrix</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>matrix</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.HOA_tools_cec2.compute_rms">
<span class="sig-prename descclassname"><span class="pre">clarity.data.HOA_tools_cec2.</span></span><span class="sig-name descname"><span class="pre">compute_rms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_signal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="reference internal" href="_modules/clarity/data/HOA_tools_cec2.html#compute_rms"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.HOA_tools_cec2.compute_rms" title="Link to this definition"></a></dt>
<dd><p>Compute rms values along a given axis.
:param input_signal: Input signal
:type input_signal: np.ndarray
:param axis: Axis along which to compute the Root Mean Square. 0 (default) or 1.
:type axis: int</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Root Mean Square for the given axis.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.HOA_tools_cec2.compute_rotation_matrix">
<span class="sig-prename descclassname"><span class="pre">clarity.data.HOA_tools_cec2.</span></span><span class="sig-name descname"><span class="pre">compute_rotation_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">foa_rotmat</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="headerlink" href="#clarity.data.HOA_tools_cec2.compute_rotation_matrix" title="Link to this definition"></a></dt>
<dd><p>Generate a rotation matrix to rotate HOA soundfield.</p>
<p>Based on <a href="#id4"><span class="problematic" id="id1">[1]_</span></a> and <a class="footnote-reference brackets" href="#id3" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>. Operates on HOA of a given order rotates by azimuth theta
and elevation phi.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>order</strong> (<em>int</em>) – order of ambisonic soundfield</p></li>
<li><p><strong>foa_rotmat</strong> (<em>arraylike</em>) – rotation matrix to expand</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>HOA rotation matrix</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
<p>References:
.. [1] Ivanic J, Ruedenberg K (1996) Rotation Matrices for Real Spherical Harmonics.</p>
<blockquote>
<div><p>Direct Determination J. Phys. Chem. 1996, 100(15):6342–6347. Available at
&lt;<a class="reference external" href="https://pubs.acs.org/doi/10.1021/jp953350u">https://pubs.acs.org/doi/10.1021/jp953350u</a>&gt; and
&lt;<a class="reference external" href="https://doi.org/10.1021/JP9833350">https://doi.org/10.1021/JP9833350</a>&gt;</p>
</div></blockquote>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id3" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">2</a><span class="fn-bracket">]</span></span>
<p>Gorzel M, Allen A, Kelly I, Kammerl J, Gungormusler, A, Yeh H, Boland F
Efficient Encoding and Decoding of Binaural Sound with Resonance Audio
In Proc. of the AES International Conference on Immersive and Interactive
Audio, March 2019. Available at
&lt;<a class="reference external" href="https://www.aes.org/e-lib/browse.cfm?elib=20446">https://www.aes.org/e-lib/browse.cfm?elib=20446</a>&gt;</p>
</aside>
</aside>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.HOA_tools_cec2.compute_rotation_vector">
<span class="sig-prename descclassname"><span class="pre">clarity.data.HOA_tools_cec2.</span></span><span class="sig-name descname"><span class="pre">compute_rotation_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_angle</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_angle</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signal_length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="reference internal" href="_modules/clarity/data/HOA_tools_cec2.html#compute_rotation_vector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.HOA_tools_cec2.compute_rotation_vector" title="Link to this definition"></a></dt>
<dd><p>Compute the rotation vector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_angle</strong> (<em>float</em>)</p></li>
<li><p><strong>end_angle</strong> (<em>float</em>)</p></li>
<li><p><strong>signal_length</strong> (<em>int</em>)</p></li>
<li><p><strong>start_idx</strong> (<em>int</em>)</p></li>
<li><p><strong>end_idx</strong> (<em>int</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>_description_</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.HOA_tools_cec2.convert_a_to_b_format">
<span class="sig-prename descclassname"><span class="pre">clarity.data.HOA_tools_cec2.</span></span><span class="sig-name descname"><span class="pre">convert_a_to_b_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">front_left_up</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">front_right_down</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">back_left_down</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">back_right_up</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clarity/data/HOA_tools_cec2.html#convert_a_to_b_format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.HOA_tools_cec2.convert_a_to_b_format" title="Link to this definition"></a></dt>
<dd><p>Converts 1st order A format audio into 1st order B format.
For more information on ambisonic formats see Gerzon, Michael A.
“Ambisonics. Part two: Studio techniques.” (1975).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>front_left_up</strong> (<em>np.ndarray</em>) – Front-left-up audio</p></li>
<li><p><strong>front_right_down</strong> (<em>np.ndarray</em>) – Front-right-down audio</p></li>
<li><p><strong>back_left_down</strong> (<em>np.ndarray</em>) – Back-left-down audio</p></li>
<li><p><strong>back_right_up</strong> (<em>np.ndarray</em>) – Back-right-up audio</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – input must be numpy array</p></li>
<li><p><strong>ValueError</strong> – all inputs must have same dimensions</p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>4xN array containing B-format audio. indexed w,x,y,z</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>nd.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.HOA_tools_cec2.dB_to_gain">
<span class="sig-prename descclassname"><span class="pre">clarity.data.HOA_tools_cec2.</span></span><span class="sig-name descname"><span class="pre">dB_to_gain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/clarity/data/HOA_tools_cec2.html#dB_to_gain"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.HOA_tools_cec2.dB_to_gain" title="Link to this definition"></a></dt>
<dd><p>Convert dB to gain.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> (<em>float</em>)</p>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p>float:</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.HOA_tools_cec2.dot">
<span class="sig-prename descclassname"><span class="pre">clarity.data.HOA_tools_cec2.</span></span><span class="sig-name descname"><span class="pre">dot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">B</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#clarity.data.HOA_tools_cec2.dot" title="Link to this definition"></a></dt>
<dd><p>Wraps np.dot for numba <a class="reference external" href="mailto:#&#37;&#52;&#48;njit">#<span>&#64;</span>njit</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>A</strong> (<em>Array</em>)</p></li>
<li><p><strong>B</strong> (<em>Array</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.HOA_tools_cec2.equalise_rms_levels">
<span class="sig-prename descclassname"><span class="pre">clarity.data.HOA_tools_cec2.</span></span><span class="sig-name descname"><span class="pre">equalise_rms_levels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/clarity/data/HOA_tools_cec2.html#equalise_rms_levels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.HOA_tools_cec2.equalise_rms_levels" title="Link to this definition"></a></dt>
<dd><p>Equalise RMS levels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>inputs</strong> (<em>array</em>) – signals</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>normalised signals</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.HOA_tools_cec2.rotation_control_vector">
<span class="sig-prename descclassname"><span class="pre">clarity.data.HOA_tools_cec2.</span></span><span class="sig-name descname"><span class="pre">rotation_control_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array_length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smoothness</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="reference internal" href="_modules/clarity/data/HOA_tools_cec2.html#rotation_control_vector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.HOA_tools_cec2.rotation_control_vector" title="Link to this definition"></a></dt>
<dd><p>Generate mapped rotation control vector for values of theta.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array_length</strong> (<em>int</em>) – Length of array</p></li>
<li><p><strong>start_index</strong> (<em>int</em>) – Start position</p></li>
<li><p><strong>end_index</strong> (<em>int</em>)</p></li>
<li><p><strong>smoothness</strong> (<em>int</em><em>, </em><em>optional</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>mapped rotation control vector</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.HOA_tools_cec2.smoothstep">
<span class="sig-prename descclassname"><span class="pre">clarity.data.HOA_tools_cec2.</span></span><span class="sig-name descname"><span class="pre">smoothstep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_min</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_max</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="reference internal" href="_modules/clarity/data/HOA_tools_cec2.html#smoothstep"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.HOA_tools_cec2.smoothstep" title="Link to this definition"></a></dt>
<dd><p>Apply the smoothstep function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.ndarray</em>) – input</p></li>
<li><p><strong>x_min</strong> (<em>float</em><em>, </em><em>optional</em>) – clamp minimum. Defaults to 0.</p></li>
<li><p><strong>x_max</strong> (<em>float</em><em>, </em><em>optional</em>) – clamp maximum. Defaults to 1.</p></li>
<li><p><strong>N</strong> (<em>int</em><em>, </em><em>optional</em>) – smoothing factor. Defaults to 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>smoothstep values</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-clarity.data.demo_data">
<span id="clarity-data-demo-data-module"></span><h2>clarity.data.demo_data module<a class="headerlink" href="#module-clarity.data.demo_data" title="Link to this heading"></a></h2>
<p>Functions for downloading demo data.</p>
<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.demo_data.get_demo_data">
<span class="sig-prename descclassname"><span class="pre">clarity.data.demo_data.</span></span><span class="sig-name descname"><span class="pre">get_demo_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadata_url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/clarity/data/demo_data.html#get_demo_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.demo_data.get_demo_data" title="Link to this definition"></a></dt>
<dd><p>Download demo data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metadata_url</strong> (<em>str</em>) – URL to download data from (should be a link on Google Drive)</p></li>
<li><p><strong>target_dir</strong> (<em>str</em>) – Directory to save to (default ‘clarity_data/demo’), will be
created if it doesn’t exist.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.demo_data.get_hrirs_demo">
<span class="sig-prename descclassname"><span class="pre">clarity.data.demo_data.</span></span><span class="sig-name descname"><span class="pre">get_hrirs_demo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'clarity_data/demo'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/clarity/data/demo_data.html#get_hrirs_demo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.demo_data.get_hrirs_demo" title="Link to this definition"></a></dt>
<dd><p>Download hiris.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.demo_data.get_interferers_demo">
<span class="sig-prename descclassname"><span class="pre">clarity.data.demo_data.</span></span><span class="sig-name descname"><span class="pre">get_interferers_demo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'clarity_data/demo'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/clarity/data/demo_data.html#get_interferers_demo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.demo_data.get_interferers_demo" title="Link to this definition"></a></dt>
<dd><p>Download interferers.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.demo_data.get_metadata_demo">
<span class="sig-prename descclassname"><span class="pre">clarity.data.demo_data.</span></span><span class="sig-name descname"><span class="pre">get_metadata_demo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'clarity_data/demo'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/clarity/data/demo_data.html#get_metadata_demo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.demo_data.get_metadata_demo" title="Link to this definition"></a></dt>
<dd><p>Download metadata.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.demo_data.get_rooms_demo">
<span class="sig-prename descclassname"><span class="pre">clarity.data.demo_data.</span></span><span class="sig-name descname"><span class="pre">get_rooms_demo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'clarity_data/demo'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/clarity/data/demo_data.html#get_rooms_demo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.demo_data.get_rooms_demo" title="Link to this definition"></a></dt>
<dd><p>Download rooms.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.demo_data.get_scenes_demo">
<span class="sig-prename descclassname"><span class="pre">clarity.data.demo_data.</span></span><span class="sig-name descname"><span class="pre">get_scenes_demo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'clarity_data/demo'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/clarity/data/demo_data.html#get_scenes_demo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.demo_data.get_scenes_demo" title="Link to this definition"></a></dt>
<dd><p>Download secnes.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.demo_data.get_targets_demo">
<span class="sig-prename descclassname"><span class="pre">clarity.data.demo_data.</span></span><span class="sig-name descname"><span class="pre">get_targets_demo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'clarity_data/demo'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/clarity/data/demo_data.html#get_targets_demo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.demo_data.get_targets_demo" title="Link to this definition"></a></dt>
<dd><p>Download targets.</p>
</dd></dl>

</section>
<section id="module-clarity.data.scene_builder_cec2">
<span id="clarity-data-scene-builder-cec2-module"></span><h2>clarity.data.scene_builder_cec2 module<a class="headerlink" href="#module-clarity.data.scene_builder_cec2" title="Link to this heading"></a></h2>
<p>Code for building the scenes.json files.</p>
<dl class="py class">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.InterfererType">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">clarity.data.scene_builder_cec2.</span></span><span class="sig-name descname"><span class="pre">InterfererType</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#InterfererType"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.InterfererType" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>Enum for interferer types.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.InterfererType.MUSIC">
<span class="sig-name descname"><span class="pre">MUSIC</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'music'</span></em><a class="headerlink" href="#clarity.data.scene_builder_cec2.InterfererType.MUSIC" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.InterfererType.NOISE">
<span class="sig-name descname"><span class="pre">NOISE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'noise'</span></em><a class="headerlink" href="#clarity.data.scene_builder_cec2.InterfererType.NOISE" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.InterfererType.SPEECH">
<span class="sig-name descname"><span class="pre">SPEECH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'speech'</span></em><a class="headerlink" href="#clarity.data.scene_builder_cec2.InterfererType.SPEECH" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.RoomBuilder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">clarity.data.scene_builder_cec2.</span></span><span class="sig-name descname"><span class="pre">RoomBuilder</span></span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#RoomBuilder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.RoomBuilder" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Functions for handling rooms.</p>
<dl class="py method">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.RoomBuilder.build_from_rpf">
<span class="sig-name descname"><span class="pre">build_from_rpf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rpf_location</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_interferers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_rooms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_room</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#RoomBuilder.build_from_rpf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.RoomBuilder.build_from_rpf" title="Link to this definition"></a></dt>
<dd><p>Build a list of rooms by extracting info from RAVEN rpf files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rpf_location</strong> (<em>str</em>) – path to where rpf files are stored</p></li>
<li><p><strong>n_interferers</strong> (<em>int</em><em>, </em><em>optional</em>) – number of interferer definitions to expect.
Defaults to N_INTERFERERS.</p></li>
<li><p><strong>n_rooms</strong> (<em>int</em><em>, </em><em>optional</em>) – number of scenes to expect. Defaults to N_SCENES.</p></li>
<li><p><strong>start_room</strong> (<em>int</em><em>, </em><em>optional</em>) – index of the first room to expect</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.RoomBuilder.get_room">
<span class="sig-name descname"><span class="pre">get_room</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#RoomBuilder.get_room"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.RoomBuilder.get_room" title="Link to this definition"></a></dt>
<dd><p>Get a room by name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – Name of room to extract.</p>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.RoomBuilder.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#RoomBuilder.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.RoomBuilder.load" title="Link to this definition"></a></dt>
<dd><p>Load the list of room from a JSON file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – filename to JSON file from which room data is loaded.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.RoomBuilder.rebuild_dict">
<span class="sig-name descname"><span class="pre">rebuild_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#RoomBuilder.rebuild_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.RoomBuilder.rebuild_dict" title="Link to this definition"></a></dt>
<dd><p>Build room dictionary.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.RoomBuilder.save_rooms">
<span class="sig-name descname"><span class="pre">save_rooms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#RoomBuilder.save_rooms"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.RoomBuilder.save_rooms" title="Link to this definition"></a></dt>
<dd><p>Save the list of rooms to a JSON file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – filename to JSON file to which room data is saved.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.RoundingFloat">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">clarity.data.scene_builder_cec2.</span></span><span class="sig-name descname"><span class="pre">RoundingFloat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">/</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#RoundingFloat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.RoundingFloat" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></p>
<p>Round a float to 4 decimal places.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.SceneBuilder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">clarity.data.scene_builder_cec2.</span></span><span class="sig-name descname"><span class="pre">SceneBuilder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scene_datasets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interferer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snr_range</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">listener</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle_rooms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#SceneBuilder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.SceneBuilder" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class with methods for building a list of scenes.</p>
<dl class="py method">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.SceneBuilder.add_SNR_to_scene">
<span class="sig-name descname"><span class="pre">add_SNR_to_scene</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">snr_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#SceneBuilder.add_SNR_to_scene"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.SceneBuilder.add_SNR_to_scene" title="Link to this definition"></a></dt>
<dd><p>Add the Signal Noise Ratio (SNR) info to the scenes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>snr_range</strong> (<em>list</em>) – Range of values from which SNR will be sampled.</p>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.SceneBuilder.add_interferer_to_scene">
<span class="sig-name descname"><span class="pre">add_interferer_to_scene</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">speech_interferers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_interferers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">music_interferers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_early_time_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#SceneBuilder.add_interferer_to_scene"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.SceneBuilder.add_interferer_to_scene" title="Link to this definition"></a></dt>
<dd><p>Add interferer to the scene description file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>speech_interferers</strong> (<em>str</em>) – Path to speech interferer to load.</p></li>
<li><p><strong>noise_interferers</strong> (<em>str</em>) – Path to noise interferer to load.</p></li>
<li><p><strong>music_interferers</strong> (<em>str</em>) – Path to music interferer to load</p></li>
<li><p><strong>number</strong> (<em>list</em>) – Number of interefers to be added.</p></li>
<li><p><strong>start_time_range</strong> (<em>list</em>) – Range for randomly selecting start point.</p></li>
<li><p><strong>end_early_time_range</strong> (<em>list</em>) – Range for randomly selecting end point.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.SceneBuilder.add_listener_details_to_scene">
<span class="sig-name descname"><span class="pre">add_listener_details_to_scene</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">heads</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relative_start_time_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duration_mean</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duration_sd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle_initial_mean</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle_initial_sd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle_final_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#SceneBuilder.add_listener_details_to_scene"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.SceneBuilder.add_listener_details_to_scene" title="Link to this definition"></a></dt>
<dd><p>Add the listener info to the scenes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong><strong>)</strong> (<em>channels</em>)</p></li>
<li><p><strong>(</strong><strong>)</strong></p></li>
<li><p><strong>relative_start_time_range</strong> (<em>list</em>) – Range from which start time is selected at
random.</p></li>
<li><p><strong>duration_mean</strong> (<em>float</em>) – mean of the time offset for start of turn</p></li>
<li><p><strong>duration_sd</strong> (<em>float</em>) – standard deviation of the time offset for start of turn</p></li>
<li><p><strong>angle_initial_mean</strong> (<em>float</em>)</p></li>
<li><p><strong>angle_initial_sd</strong> (<em>float</em>)</p></li>
<li><p><strong>angle_final_range</strong> (<em>tuple</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.SceneBuilder.add_target_to_scene">
<span class="sig-name descname"><span class="pre">add_target_to_scene</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_speakers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_selection</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pre_samples_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_samples_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#SceneBuilder.add_target_to_scene"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.SceneBuilder.add_target_to_scene" title="Link to this definition"></a></dt>
<dd><p>Add target info to the scenes.</p>
<p>Uses target speaker file set via config.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<em>str</em>) – dataset to be added.</p></li>
<li><p><strong>target_speakers</strong> (<em>str</em>)</p></li>
<li><p><strong>target_selection</strong> (<em>str</em>) – Type of target to be added, valid values are
‘SEQUENTIAL’ and ‘RANDOM’.</p></li>
<li><p><strong>pre_samples_range</strong> (<em>list</em>) – Parameters for number of samples prior to target
onset.</p></li>
<li><p><strong>post_samples_range</strong> (<em>list</em>) – Parameters for number of samples to continue
player after target offsets.</p></li>
</ul>
</dd>
</dl>
<p>Raises: TypeError if room_selection is not SEQUENTIAL or RANDOM</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.SceneBuilder.initialise_scenes">
<span class="sig-name descname"><span class="pre">initialise_scenes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_scenes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">room_selection</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scene_start_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#SceneBuilder.initialise_scenes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.SceneBuilder.initialise_scenes" title="Link to this definition"></a></dt>
<dd><p>Initialise the scenes for a given dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> – train, dev, or eval set</p></li>
<li><p><strong>n_scenes</strong> (<em>int</em>) – number of scenes to generate</p></li>
<li><p><strong>room_selection</strong> (<em>str</em>) – SEQUENTIAL or RANDOM</p></li>
<li><p><strong>scene_start_index</strong> (<em>int</em>) – index to start for scene IDs</p></li>
</ul>
</dd>
</dl>
<p>Raises: TypeError if room_selection is not SEQUENTIAL or RANDOM</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.SceneBuilder.instantiate_scenes">
<span class="sig-name descname"><span class="pre">instantiate_scenes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#SceneBuilder.instantiate_scenes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.SceneBuilder.instantiate_scenes" title="Link to this definition"></a></dt>
<dd><p>Instantiate scenes with targets, interferers, SNR and listeners.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dataset</strong></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.SceneBuilder.save_scenes">
<span class="sig-name descname"><span class="pre">save_scenes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#SceneBuilder.save_scenes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.SceneBuilder.save_scenes" title="Link to this definition"></a></dt>
<dd><p>Save the list of scenes to a JSON file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – Filename to save scenes to.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.add_interferer_to_scene_inner">
<span class="sig-prename descclassname"><span class="pre">clarity.data.scene_builder_cec2.</span></span><span class="sig-name descname"><span class="pre">add_interferer_to_scene_inner</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scene</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interferers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_early_time_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#add_interferer_to_scene_inner"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.add_interferer_to_scene_inner" title="Link to this definition"></a></dt>
<dd><p>Randomly select interferers and add them to the given scene.
A random number of interferers is chosen, then each is given a random type
selected from the possible speech, nonspeech, music types.
Interferers are then chosen from the available lists according to the type
and also taking care to match the scenes ‘dataset’ field, ie. train, dev, test.
The interferer data is supplied as a dictionary of lists of lists. The key
being “speech”, “nonspeech”, or “music”, and the list of list being a partitioned
list of interferers for that type.
The idea of using a list of lists is that interferers can be split by
subcondition and then the randomization draws equally from each subcondition,
e.g. for nonspeech there is “washing machine”, “microwave” etc. This ensures that
each subcondition is equally represented even if the number of exemplars of
each subcondition is different.
Note, there is no return. The scene is modified in place.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scene</strong> (<em>dict</em>) – the scene description</p></li>
<li><p><strong>interferers</strong> (<em>dict</em>) – the interferer metadata</p></li>
<li><p><strong>number</strong> (<em>list</em>) – number of interferers</p></li>
<li><p><strong>start_time_range</strong> (<em>list</em>) – range of starting points as integers, a random number
is selected between these.</p></li>
<li><p><strong>end_early_time_range</strong> (<em>list</em>) – range of end points as integers, a random number
is selected between these.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.add_this_target_to_scene">
<span class="sig-prename descclassname"><span class="pre">clarity.data.scene_builder_cec2.</span></span><span class="sig-name descname"><span class="pre">add_this_target_to_scene</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scene</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pre_samples_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_samples_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#add_this_target_to_scene"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.add_this_target_to_scene" title="Link to this definition"></a></dt>
<dd><p>Add the target details to the scene dict.</p>
<p>Adds given target to given scene. Target details will be taken from the target dict
but the start time will be according to the CEC2 target start time specification.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> (<em>dict</em>) – target dict read from target metadata file.</p></li>
<li><p><strong>scene</strong> (<em>dict</em>) – complete scene dictionary.</p></li>
<li><p><strong>pre_samples_range</strong> (<em>list</em>) – parameters for number of samples prior to target onset</p></li>
<li><p><strong>post_samples_range</strong> (<em>list</em>) – parameters for number of samples to continue
player after target offsets.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.build_room">
<span class="sig-prename descclassname"><span class="pre">clarity.data.scene_builder_cec2.</span></span><span class="sig-name descname"><span class="pre">build_room</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interferer_files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#build_room"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.build_room" title="Link to this definition"></a></dt>
<dd><p>Build room json file from contents of related rpf files.
Note, there is an rpf file for each source in the scene. All of these
files are read and a single scene json file is constructed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target_file</strong> (<em>str</em>) – rpf file containing the target position</p></li>
<li><p><strong>interferer_files</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – list of files containing the interferer positions</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>dictionary representation of the scene following CEC2 scene.json format</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.generate_rotation">
<span class="sig-prename descclassname"><span class="pre">clarity.data.scene_builder_cec2.</span></span><span class="sig-name descname"><span class="pre">generate_rotation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scene</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relative_start_time_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duration_mean</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duration_sd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle_initial_mean</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle_initial_sd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle_final_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#generate_rotation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.generate_rotation" title="Link to this definition"></a></dt>
<dd><p>Generate a suitable head rotation for the given scene.
Based on behavioural studies by Hadley et al. TODO: find ref</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scene</strong> (<em>dict</em>) – the scene description</p></li>
<li><p><strong>relative_start_time_range</strong> (<em>list</em>) – Range from which start time is
uniformly selected at random.</p></li>
<li><p><strong>duration_mean</strong> (<em>float</em>) – mean of the time offset for start of turn</p></li>
<li><p><strong>duration_sd</strong> (<em>float</em>) – standard deviation of the time offset for start of turn</p></li>
<li><p><strong>angle_initial_mean</strong> (<em>float</em>)</p></li>
<li><p><strong>angle_initial_sd</strong> (<em>float</em>)</p></li>
<li><p><strong>angle_final_range</strong> (<em>tuple</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of dicts with keys “sample” and “view_vector”
specifying the head motion.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list(dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.generate_snr">
<span class="sig-prename descclassname"><span class="pre">clarity.data.scene_builder_cec2.</span></span><span class="sig-name descname"><span class="pre">generate_snr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">snr_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#generate_snr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.generate_snr" title="Link to this definition"></a></dt>
<dd><p>Generate a random Signal Noise Ratio (SNR).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>snr_range</strong> (<em>list</em>) – Range from which to uniformly sample SNR.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>random number from uniform distribution in given range.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.get_num_post_samples">
<span class="sig-prename descclassname"><span class="pre">clarity.data.scene_builder_cec2.</span></span><span class="sig-name descname"><span class="pre">get_num_post_samples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">post_samples_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#get_num_post_samples"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.get_num_post_samples" title="Link to this definition"></a></dt>
<dd><p>Number of samples to continue player after target offsets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>post_samples_range</strong> (<em>list</em>) – parameters for number of samples to continue.</p>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.get_num_pre_samples">
<span class="sig-prename descclassname"><span class="pre">clarity.data.scene_builder_cec2.</span></span><span class="sig-name descname"><span class="pre">get_num_pre_samples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pre_samples_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#get_num_pre_samples"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.get_num_pre_samples" title="Link to this definition"></a></dt>
<dd><p>Number of samples prior to target onset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pre_samples_range</strong> (<em>list</em>) – parameters for number of samples prior to target onset</p>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.get_random_hrir_set">
<span class="sig-prename descclassname"><span class="pre">clarity.data.scene_builder_cec2.</span></span><span class="sig-name descname"><span class="pre">get_random_hrir_set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">heads</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channels</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#get_random_hrir_set"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.get_random_hrir_set" title="Link to this definition"></a></dt>
<dd><p>Get a random HRIR set.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.get_random_interferer_offset">
<span class="sig-prename descclassname"><span class="pre">clarity.data.scene_builder_cec2.</span></span><span class="sig-name descname"><span class="pre">get_random_interferer_offset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interferer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">required_samples</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#get_random_interferer_offset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.get_random_interferer_offset" title="Link to this definition"></a></dt>
<dd><p>Generate a random offset sample for interferer.
The offset sample is the point within the masker signal at which the interferer
segment will be extracted. Randomly selected but with care for it not to start
too late, i.e. such that the required samples would overrun the end of the masker
signal will be used is taken.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>interferer</strong> (<em>dict</em>) – the interferer metadata</p></li>
<li><p><strong>required_samples</strong> (<em>int</em>) – number of samples that is going to be required</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a valid randomly selected offset</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.get_room_dims">
<span class="sig-prename descclassname"><span class="pre">clarity.data.scene_builder_cec2.</span></span><span class="sig-name descname"><span class="pre">get_room_dims</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span></span></span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#get_room_dims"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.get_room_dims" title="Link to this definition"></a></dt>
<dd><p>Find the room dimensions in the rpf file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>text</strong> (<em>str</em>) – String to be searched for room dimensions (string to be searched
for is of the form ‘ProjectName = CuboidRoom_5.9x3.4186x2.9’).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of the three dimensions of the room.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.get_room_name">
<span class="sig-prename descclassname"><span class="pre">clarity.data.scene_builder_cec2.</span></span><span class="sig-name descname"><span class="pre">get_room_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#get_room_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.get_room_name" title="Link to this definition"></a></dt>
<dd><p>Find the room name in the rpf file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>text</strong> (<em>str</em>) – String to be searched for room name (‘R’ followed by 5 digits).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The room name.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.get_vector">
<span class="sig-prename descclassname"><span class="pre">clarity.data.scene_builder_cec2.</span></span><span class="sig-name descname"><span class="pre">get_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vector_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#get_vector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.get_vector" title="Link to this definition"></a></dt>
<dd><p>Get a vector quantity from the rpf file.
Will read rpf vector quantities, eg.
“sourceViewVectors = -0.095,-0.995, 0.000”</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<em>str</em>) – string contents of the rpf file</p></li>
<li><p><strong>vector_name</strong> (<em>str</em>) – name of vector to extract (e.g. “sourceViewVectors”)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>vector as list of floats</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.make_rpf_filename_dict">
<span class="sig-prename descclassname"><span class="pre">clarity.data.scene_builder_cec2.</span></span><span class="sig-name descname"><span class="pre">make_rpf_filename_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rpf_location</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scene_str</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_interferers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#make_rpf_filename_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.make_rpf_filename_dict" title="Link to this definition"></a></dt>
<dd><p>Construct dictionary storing all rpf files that will be processed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rpf_location</strong> (<em>str</em>) – Location</p></li>
<li><p><strong>scene</strong> (<em>str</em>) – Scene (as string)</p></li>
<li><p><strong>n_interferers</strong> (<em>int</em>) – Number of interferers.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary of rpf files to be processed.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.read_rpf_file">
<span class="sig-prename descclassname"><span class="pre">clarity.data.scene_builder_cec2.</span></span><span class="sig-name descname"><span class="pre">read_rpf_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rpf_filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#read_rpf_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.read_rpf_file" title="Link to this definition"></a></dt>
<dd><p>Process an rpf file and return key contents as a dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rpf_filename</strong> (<em>str</em>) – Path to an rpf file to be read.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>dictionary of rpf file contents</dt><dd><p>{“position”: sourcePositions, “view_vector”: sourceViewVectors}</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.select_interferer_types">
<span class="sig-prename descclassname"><span class="pre">clarity.data.scene_builder_cec2.</span></span><span class="sig-name descname"><span class="pre">select_interferer_types</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">allowed_n_interferers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#clarity.data.scene_builder_cec2.InterfererType" title="clarity.data.scene_builder_cec2.InterfererType"><span class="pre">InterfererType</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#select_interferer_types"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.select_interferer_types" title="Link to this definition"></a></dt>
<dd><p>Select the interferer types to use.</p>
<p>The number of interferer is drawn randomly from list of allowed valued.
The type of each is chosen randomly but there is not allowed to be
more than 1 music source.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>allowed_n_interferers</strong> (<em>list</em>) – list of allowed number of interferers</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of interferer types to use</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list(<a class="reference internal" href="#clarity.data.scene_builder_cec2.InterfererType" title="clarity.data.scene_builder_cec2.InterfererType">InterfererType</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.select_random_interferer">
<span class="sig-prename descclassname"><span class="pre">clarity.data.scene_builder_cec2.</span></span><span class="sig-name descname"><span class="pre">select_random_interferer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interferers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">required_samples</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#select_random_interferer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.select_random_interferer" title="Link to this definition"></a></dt>
<dd><p>Randomly select an interferer.
Interferers stored as list of list. First randomly select a sublist
then randomly select an item from sublist matching constraints.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>interferers</strong> (<em>list</em><em>(</em><em>list</em><em>)</em>) – interferers as list of lists</p></li>
<li><p><strong>dataset</strong> (<em>str</em>) – desired data [train, dev, eval]</p></li>
<li><p><strong>required_samples</strong> (<em>int</em>) – required number of samples</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – if no suitable interferer is found</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the interferer dict</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.scene_builder_cec2.set_random_seed">
<span class="sig-prename descclassname"><span class="pre">clarity.data.scene_builder_cec2.</span></span><span class="sig-name descname"><span class="pre">set_random_seed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">random_seed</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clarity/data/scene_builder_cec2.html#set_random_seed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_builder_cec2.set_random_seed" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-clarity.data.scene_renderer_cec1">
<span id="clarity-data-scene-renderer-cec1-module"></span><h2>clarity.data.scene_renderer_cec1 module<a class="headerlink" href="#module-clarity.data.scene_renderer_cec1" title="Link to this heading"></a></h2>
<p>Scene rendering for CEC1 challenge.</p>
<dl class="py class">
<dt class="sig sig-object py" id="clarity.data.scene_renderer_cec1.Renderer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">clarity.data.scene_renderer_cec1.</span></span><span class="sig-name descname"><span class="pre">Renderer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_channels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">44100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ramp_duration</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tail_duration</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pre_duration</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_duration</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_nbits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">16</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clarity/data/scene_renderer_cec1.html#Renderer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_renderer_cec1.Renderer" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>SceneGenerator of CEC1 training and development sets. The render() function
generates all simulated signals for each scene given the parameters specified in the
metadata/scenes.train.json or metadata/scenes.dev.json file.</p>
<dl class="py method">
<dt class="sig sig-object py" id="clarity.data.scene_renderer_cec1.Renderer.apply_brir">
<span class="sig-name descname"><span class="pre">apply_brir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">brir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clarity/data/scene_renderer_cec1.html#Renderer.apply_brir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_renderer_cec1.Renderer.apply_brir" title="Link to this definition"></a></dt>
<dd><p>Convolve a signal with a binaural room impulse response (BRIR).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signal</strong> (<em>ndarray</em>) – The mono or stereo signal stored as array of floats</p></li>
<li><p><strong>brir</strong> (<em>ndarray</em>) – The BRIR stored a 2xN array of floats</p></li>
<li><p><strong>n_tail</strong> (<em>int</em>) – Truncate output to input signal length + n_tail</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The convolved signals</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clarity.data.scene_renderer_cec1.Renderer.apply_ramp">
<span class="sig-name descname"><span class="pre">apply_ramp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ramp_duration</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clarity/data/scene_renderer_cec1.html#Renderer.apply_ramp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_renderer_cec1.Renderer.apply_ramp" title="Link to this definition"></a></dt>
<dd><p>Apply half cosine ramp into and out of signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signal</strong> (<em>np.ndarray</em>) – signal to be ramped.</p></li>
<li><p><strong>ramp_duration</strong> (<em>int</em>) – ramp duration in seconds.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Signal ramped into and out of by cosine function.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clarity.data.scene_renderer_cec1.Renderer.compute_snr">
<span class="sig-name descname"><span class="pre">compute_snr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pre_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clarity/data/scene_renderer_cec1.html#Renderer.compute_snr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_renderer_cec1.Renderer.compute_snr" title="Link to this definition"></a></dt>
<dd><p>Return the Signal Noise Ratio (SNR).</p>
<p>Take the overlapping segment of the noise and get the speech-weighted
better ear Signal Noise Ratio. (Note, SNR is a ratio – not in dB.)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> (<em>np.ndarray</em>) – Target signal.</p></li>
<li><p><strong>noise</strong> (<em>np.ndarray</em>) – Noise (should be same length as target)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>signal_noise_ratio for better ear.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clarity.data.scene_renderer_cec1.Renderer.render">
<span class="sig-name descname"><span class="pre">render</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interferer_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">room</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scene</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snr_dB</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pre_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">88200</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">44100</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clarity/data/scene_renderer_cec1.html#Renderer.render"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_renderer_cec1.Renderer.render" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.scene_renderer_cec1.check_scene_exists">
<span class="sig-prename descclassname"><span class="pre">clarity.data.scene_renderer_cec1.</span></span><span class="sig-name descname"><span class="pre">check_scene_exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scene</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_channels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/clarity/data/scene_renderer_cec1.html#check_scene_exists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_renderer_cec1.check_scene_exists" title="Link to this definition"></a></dt>
<dd><p>Checks correct dataset directory for full set of pre-existing files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scene</strong> (<em>dict</em>) – dictionary defining the scene to be generated.</p></li>
<li><p><strong>output_path</strong> (<em>str</em>) – Path files should be saved to.</p></li>
<li><p><strong>num_channels</strong> (<em>int</em>) – Number of channels</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>boolean value indicating whether scene signals exist</dt><dd><p>or do not exist.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>status</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-clarity.data.scene_renderer_cec2">
<span id="clarity-data-scene-renderer-cec2-module"></span><h2>clarity.data.scene_renderer_cec2 module<a class="headerlink" href="#module-clarity.data.scene_renderer_cec2" title="Link to this heading"></a></h2>
<p>Clarity ambisonic scene rendering.</p>
<dl class="py class">
<dt class="sig sig-object py" id="clarity.data.scene_renderer_cec2.SceneRenderer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">clarity.data.scene_renderer_cec2.</span></span><span class="sig-name descname"><span class="pre">SceneRenderer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ambisonic_order</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">equalise_loudness</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference_channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_norms</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clarity/data/scene_renderer_cec2.html#SceneRenderer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_renderer_cec2.SceneRenderer" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Ambisonic scene rendering class.</p>
<p>Contains methods for generating signals from pseudorandom datasets for CEC2</p>
<dl class="py method">
<dt class="sig sig-object py" id="clarity.data.scene_renderer_cec2.SceneRenderer.generate_binaural_signals">
<span class="sig-name descname"><span class="pre">generate_binaural_signals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scene</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hoa_target</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hoa_interferer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hoa_target_anechoic</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/clarity/data/scene_renderer_cec2.html#SceneRenderer.generate_binaural_signals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_renderer_cec2.SceneRenderer.generate_binaural_signals" title="Link to this definition"></a></dt>
<dd><p>Generate and write binaural signals.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scene</strong> (<em>dict</em>) – scene definitions</p></li>
<li><p><strong>hoa_target</strong> (<em>ndarray</em>) – target signal in HOA domain</p></li>
<li><p><strong>hoa_interferer</strong> (<em>ndarray</em>) – interferer signal in HOA domain</p></li>
<li><p><strong>hoa_target_anechoic</strong> (<em>ndarray</em>) – anechoic target signal in HOA domain</p></li>
<li><p><strong>out_path</strong> (<em>string</em>) – output path</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clarity.data.scene_renderer_cec2.SceneRenderer.generate_hoa_signals">
<span class="sig-name descname"><span class="pre">generate_hoa_signals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scene</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="reference internal" href="_modules/clarity/data/scene_renderer_cec2.html#SceneRenderer.generate_hoa_signals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_renderer_cec2.SceneRenderer.generate_hoa_signals" title="Link to this definition"></a></dt>
<dd><p>Generates HOA signals.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>scene</strong> (<em>dict</em>) – scene definitions</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clarity.data.scene_renderer_cec2.SceneRenderer.load_interferer_hoairs">
<span class="sig-name descname"><span class="pre">load_interferer_hoairs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scene</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clarity/data/scene_renderer_cec2.html#SceneRenderer.load_interferer_hoairs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_renderer_cec2.SceneRenderer.load_interferer_hoairs" title="Link to this definition"></a></dt>
<dd><p>Loads and returns the interferer hoa irs for given scene.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>(</strong><strong>)</strong> (<em>scene</em>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of inferior hoa irs for the given scene.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clarity.data.scene_renderer_cec2.SceneRenderer.load_interferer_signals">
<span class="sig-name descname"><span class="pre">load_interferer_signals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scene</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clarity/data/scene_renderer_cec2.html#SceneRenderer.load_interferer_signals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_renderer_cec2.SceneRenderer.load_interferer_signals" title="Link to this definition"></a></dt>
<dd><p>Loads and returns interferer signals for given scene.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>(</strong><strong>)</strong> (<em>scene</em>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of signals.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clarity.data.scene_renderer_cec2.SceneRenderer.make_hoa_target_anechoic">
<span class="sig-name descname"><span class="pre">make_hoa_target_anechoic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">room</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clarity/data/scene_renderer_cec2.html#SceneRenderer.make_hoa_target_anechoic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_renderer_cec2.SceneRenderer.make_hoa_target_anechoic" title="Link to this definition"></a></dt>
<dd><p>Make the HOA anechoic target.</p>
<p>Applies an anechoic HOA IR that models a source straight in front of the
listener. The signal is delayed to match the propagation delay of the room.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong><strong>)</strong> (<em>target</em>)</p></li>
<li><p><strong>room</strong> (<em>dict</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clarity.data.scene_renderer_cec2.SceneRenderer.make_interferer_filename">
<span class="sig-name descname"><span class="pre">make_interferer_filename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interferer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/clarity/data/scene_renderer_cec2.html#SceneRenderer.make_interferer_filename"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_renderer_cec2.SceneRenderer.make_interferer_filename" title="Link to this definition"></a></dt>
<dd><p>Construct filename for an interferer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>interferer</strong> (<em>dict</em>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Filename for an interferer.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clarity.data.scene_renderer_cec2.SceneRenderer.prepare_interferer_paths">
<span class="sig-name descname"><span class="pre">prepare_interferer_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scene</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clarity/data/scene_renderer_cec2.html#SceneRenderer.prepare_interferer_paths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_renderer_cec2.SceneRenderer.prepare_interferer_paths" title="Link to this definition"></a></dt>
<dd><p>Make list of full path filenames for interferers in scene.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>(</strong><strong>)</strong> (<em>scene</em>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of full path filenames for interferers in scene.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clarity.data.scene_renderer_cec2.SceneRenderer.render_scenes">
<span class="sig-name descname"><span class="pre">render_scenes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clarity/data/scene_renderer_cec2.html#SceneRenderer.render_scenes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_renderer_cec2.SceneRenderer.render_scenes" title="Link to this definition"></a></dt>
<dd><p>Renders scenes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>scenes</strong> (<em>dict</em>) – scene definitions</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clarity.data.scene_renderer_cec2.SceneRenderer.save_signal_16bit">
<span class="sig-name descname"><span class="pre">save_signal_16bit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">norm</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/clarity/data/scene_renderer_cec2.html#SceneRenderer.save_signal_16bit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_renderer_cec2.SceneRenderer.save_signal_16bit" title="Link to this definition"></a></dt>
<dd><p>Saves a signal to a 16 bit wav file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>string</em>) – filename</p></li>
<li><p><strong>signal</strong> (<em>np.array</em>) – signal</p></li>
<li><p><strong>norm</strong> (<em>float</em>) – normalisation factor</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.scene_renderer_cec2.pad_signal_start_end">
<span class="sig-prename descclassname"><span class="pre">clarity.data.scene_renderer_cec2.</span></span><span class="sig-name descname"><span class="pre">pad_signal_start_end</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delay</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duration</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="reference internal" href="_modules/clarity/data/scene_renderer_cec2.html#pad_signal_start_end"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_renderer_cec2.pad_signal_start_end" title="Link to this definition"></a></dt>
<dd><p>Pad signal at start and end.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signal</strong> (<em>array-like</em>) – ambisonic signals</p></li>
<li><p><strong>delay</strong> (<em>int</em>) – number of zeros to pad at start</p></li>
<li><p><strong>duration</strong> (<em>int</em>) – desired duration after start and end padding</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>padded signals</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>array-like</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.scene_renderer_cec2.two_point_rotation">
<span class="sig-prename descclassname"><span class="pre">clarity.data.scene_renderer_cec2.</span></span><span class="sig-name descname"><span class="pre">two_point_rotation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rotation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duration</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="reference internal" href="_modules/clarity/data/scene_renderer_cec2.html#two_point_rotation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.scene_renderer_cec2.two_point_rotation" title="Link to this definition"></a></dt>
<dd><p>Perform rotation defined by two control points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rotation</strong> (<em>dict</em>) – rotation object from scene definition</p></li>
<li><p><strong>origin</strong> (<em>ndarray</em>) – origin view vector</p></li>
<li><p><strong>duration</strong> (<em>int</em>) – total number of samples to generate for</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>sequence of theta values per sample</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-clarity.data.utils">
<span id="clarity-data-utils-module"></span><h2>clarity.data.utils module<a class="headerlink" href="#module-clarity.data.utils" title="Link to this heading"></a></h2>
<p>Utilities for data generation.</p>
<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.utils.better_ear_speechweighted_snr">
<span class="sig-prename descclassname"><span class="pre">clarity.data.utils.</span></span><span class="sig-name descname"><span class="pre">better_ear_speechweighted_snr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/clarity/data/utils.html#better_ear_speechweighted_snr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.utils.better_ear_speechweighted_snr" title="Link to this definition"></a></dt>
<dd><p>Calculate effective better ear SNR.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> (<em>np.ndarray</em>)</p></li>
<li><p><strong>noise</strong> (<em>np.ndarray</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(float)</p>
</dd>
</dl>
<p>Maximum Signal Noise Ratio between left and right channel.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.utils.pad">
<span class="sig-prename descclassname"><span class="pre">clarity.data.utils.</span></span><span class="sig-name descname"><span class="pre">pad</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="reference internal" href="_modules/clarity/data/utils.html#pad"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.utils.pad" title="Link to this definition"></a></dt>
<dd><p>Zero pad signal to required length.</p>
<p>Assumes required length is not less than input length.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signal</strong> (<em>np.array</em>)</p></li>
<li><p><strong>length</strong> (<em>int</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.utils.speechweighted_snr">
<span class="sig-prename descclassname"><span class="pre">clarity.data.utils.</span></span><span class="sig-name descname"><span class="pre">speechweighted_snr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/clarity/data/utils.html#speechweighted_snr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.utils.speechweighted_snr" title="Link to this definition"></a></dt>
<dd><p>Apply speech weighting filter to signals and get SNR.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> (<em>np.ndarray</em>)</p></li>
<li><p><strong>noise</strong> (<em>np.ndarray</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>(float)</p>
</dd>
</dl>
<p>Signal Noise Ratio</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clarity.data.utils.sum_signals">
<span class="sig-prename descclassname"><span class="pre">clarity.data.utils.</span></span><span class="sig-name descname"><span class="pre">sum_signals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signals</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">np.ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">0</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/clarity/data/utils.html#sum_signals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clarity.data.utils.sum_signals" title="Link to this definition"></a></dt>
<dd><p>Return sum of a list of signals.</p>
<p>Signals are stored as a list of ndarrays whose size can vary in the first
dimension, i.e., so can sum mono or stereo signals etc.
Shorter signals are zero padded to the length of the longest.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>signals</strong> (<em>list</em>) – List of signals stored as ndarrays</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The sum of the signals</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-clarity.data">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-clarity.data" title="Link to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020-2025, pyClarity authors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>