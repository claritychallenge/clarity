

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>recipes.cad1.task2.baseline package &mdash; pyClarity 0.7.1.post21 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5cc28f93"></script>
      <script src="_static/doctools.js?v=9a2dae69"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            pyClarity
              <img src="_static/challenges.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pyClarity</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">recipes.cad1.task2.baseline package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/recipes.cad1.task2.baseline.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="recipes-cad1-task2-baseline-package">
<h1>recipes.cad1.task2.baseline package<a class="headerlink" href="#recipes-cad1-task2-baseline-package" title="Link to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-recipes.cad1.task2.baseline.audio_manager">
<span id="recipes-cad1-task2-baseline-audio-manager-module"></span><h2>recipes.cad1.task2.baseline.audio_manager module<a class="headerlink" href="#module-recipes.cad1.task2.baseline.audio_manager" title="Link to this heading"></a></h2>
<p>A utility class for managing audio files.</p>
<dl class="py class">
<dt class="sig sig-object py" id="recipes.cad1.task2.baseline.audio_manager.AudioManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">recipes.cad1.task2.baseline.audio_manager.</span></span><span class="sig-name descname"><span class="pre">AudioManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_rate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">44100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_audio_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">soft_clip</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/recipes/cad1/task2/baseline/audio_manager.html#AudioManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#recipes.cad1.task2.baseline.audio_manager.AudioManager" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A utility class for managing audio files.</p>
<dl class="py method">
<dt class="sig sig-object py" id="recipes.cad1.task2.baseline.audio_manager.AudioManager.add_audios_to_save">
<span class="sig-name descname"><span class="pre">add_audios_to_save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">waveform</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/recipes/cad1/task2/baseline/audio_manager.html#AudioManager.add_audios_to_save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#recipes.cad1.task2.baseline.audio_manager.AudioManager.add_audios_to_save" title="Link to this definition"></a></dt>
<dd><p>Add a waveform to the list of audios to save.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<em>str</em>) – The name of the track.</p></li>
<li><p><strong>waveform</strong> (<em>np.ndarray</em>) – The track to save.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="recipes.cad1.task2.baseline.audio_manager.AudioManager.clip_audio">
<span class="sig-name descname"><span class="pre">clip_audio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_val</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_val</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/recipes/cad1/task2/baseline/audio_manager.html#AudioManager.clip_audio"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#recipes.cad1.task2.baseline.audio_manager.AudioManager.clip_audio" title="Link to this definition"></a></dt>
<dd><p>Clip a WAV file to the given range.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signal</strong> (<em>np.ndarray</em>) – The WAV file to clip.</p></li>
<li><p><strong>min_val</strong> (<em>float</em>) – The minimum value to clip to. Defaults to -1.</p></li>
<li><p><strong>max_val</strong> (<em>float</em>) – The maximum value to clip to. Defaults to 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of samples clipped and the clipped signal.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[int, np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="recipes.cad1.task2.baseline.audio_manager.AudioManager.get_lufs_level">
<span class="sig-name descname"><span class="pre">get_lufs_level</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/recipes/cad1/task2/baseline/audio_manager.html#AudioManager.get_lufs_level"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#recipes.cad1.task2.baseline.audio_manager.AudioManager.get_lufs_level" title="Link to this definition"></a></dt>
<dd><p>Get the LUFS level of the signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>signal</strong> (<em>np.ndarray</em>) – The signal to get the LUFS level of.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The LUFS level of the signal.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="recipes.cad1.task2.baseline.audio_manager.AudioManager.save_audios">
<span class="sig-name descname"><span class="pre">save_audios</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/recipes/cad1/task2/baseline/audio_manager.html#AudioManager.save_audios"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#recipes.cad1.task2.baseline.audio_manager.AudioManager.save_audios" title="Link to this definition"></a></dt>
<dd><p>Save the audios to the given path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>output_audio_path</strong> (<em>str</em>) – The path to save the audios to.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="recipes.cad1.task2.baseline.audio_manager.AudioManager.scale_to_lufs">
<span class="sig-name descname"><span class="pre">scale_to_lufs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_lufs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/recipes/cad1/task2/baseline/audio_manager.html#AudioManager.scale_to_lufs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#recipes.cad1.task2.baseline.audio_manager.AudioManager.scale_to_lufs" title="Link to this definition"></a></dt>
<dd><p>Scale the signal to the given LUFS level.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signal</strong> (<em>np.ndarray</em>) – The signal to scale.</p></li>
<li><p><strong>target_lufs</strong> (<em>float</em>) – The target LUFS level.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The scaled signal.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-recipes.cad1.task2.baseline.baseline_utils">
<span id="recipes-cad1-task2-baseline-baseline-utils-module"></span><h2>recipes.cad1.task2.baseline.baseline_utils module<a class="headerlink" href="#module-recipes.cad1.task2.baseline.baseline_utils" title="Link to this heading"></a></h2>
<p>Utility functions for the baseline model.</p>
<dl class="py function">
<dt class="sig sig-object py" id="recipes.cad1.task2.baseline.baseline_utils.load_hrtf">
<span class="sig-prename descclassname"><span class="pre">recipes.cad1.task2.baseline.baseline_utils.</span></span><span class="sig-name descname"><span class="pre">load_hrtf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DictConfig</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="_modules/recipes/cad1/task2/baseline/baseline_utils.html#load_hrtf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#recipes.cad1.task2.baseline.baseline_utils.load_hrtf" title="Link to this definition"></a></dt>
<dd><p>Load the HRTF file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> (<em>DictConfig</em>) – A dictionary-like object containing various configuration
parameters for the evaluation. This includes the path to the HRTF files.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary containing the HRTF data for the dataset.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>hrtf_data (dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="recipes.cad1.task2.baseline.baseline_utils.load_listeners_and_scenes">
<span class="sig-prename descclassname"><span class="pre">recipes.cad1.task2.baseline.baseline_utils.</span></span><span class="sig-name descname"><span class="pre">load_listeners_and_scenes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DictConfig</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="clarity.utils.html#clarity.utils.audiogram.Listener" title="clarity.utils.audiogram.Listener"><span class="pre">Listener</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/recipes/cad1/task2/baseline/baseline_utils.html#load_listeners_and_scenes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#recipes.cad1.task2.baseline.baseline_utils.load_listeners_and_scenes" title="Link to this definition"></a></dt>
<dd><p>Load listener and scene data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> (<em>DictConfig</em>) – A dictionary-like object containing various configuration
parameters for the evaluation. This includes the path to the scenes file,
the path to the listeners train file, and the path to the listeners valid
file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>A tuple containing the scene data, the listener data</dt><dd><p>and the pair scenes-listeners.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[dict, dict, dict]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="recipes.cad1.task2.baseline.baseline_utils.make_scene_listener_list">
<span class="sig-prename descclassname"><span class="pre">recipes.cad1.task2.baseline.baseline_utils.</span></span><span class="sig-name descname"><span class="pre">make_scene_listener_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenes_listeners</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">small_test</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/recipes/cad1/task2/baseline/baseline_utils.html#make_scene_listener_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#recipes.cad1.task2.baseline.baseline_utils.make_scene_listener_list" title="Link to this definition"></a></dt>
<dd><p>Make the list of scene-listener pairing to process</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="recipes.cad1.task2.baseline.baseline_utils.read_mp3">
<span class="sig-prename descclassname"><span class="pre">recipes.cad1.task2.baseline.baseline_utils.</span></span><span class="sig-name descname"><span class="pre">read_mp3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_rate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">np.ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/recipes/cad1/task2/baseline/baseline_utils.html#read_mp3"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#recipes.cad1.task2.baseline.baseline_utils.read_mp3" title="Link to this definition"></a></dt>
<dd><p>Read a MP3 file and return its signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>str</em><em>, </em><em>Path</em>) – The path to the mp3 file.</p></li>
<li><p><strong>sample_rate</strong> (<em>int</em>) – The sampling frequency of the mp3 file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The signal of the mp3 file.
sample_rate (int): The sampling frequency of the mp3 file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>signal (np.ndarray)</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-recipes.cad1.task2.baseline.car_scene_acoustics">
<span id="recipes-cad1-task2-baseline-car-scene-acoustics-module"></span><h2>recipes.cad1.task2.baseline.car_scene_acoustics module<a class="headerlink" href="#module-recipes.cad1.task2.baseline.car_scene_acoustics" title="Link to this heading"></a></h2>
<p>A class for the car acoustic environment.</p>
<dl class="py class">
<dt class="sig sig-object py" id="recipes.cad1.task2.baseline.car_scene_acoustics.CarSceneAcoustics">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">recipes.cad1.task2.baseline.car_scene_acoustics.</span></span><span class="sig-name descname"><span class="pre">CarSceneAcoustics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">track_duration</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_rate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrtf_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_nalr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_compressor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extend_noise</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/recipes/cad1/task2/baseline/car_scene_acoustics.html#CarSceneAcoustics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#recipes.cad1.task2.baseline.car_scene_acoustics.CarSceneAcoustics" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class for the car acoustic environment.</p>
<dl class="simple">
<dt>Constants:</dt><dd><dl class="simple">
<dt>ANECHOIC_HRTF_FOR_NOISE (dict): A dictionary containing the names of the</dt><dd><dl class="simple">
<dt>anechoic BRIRs for the following directions:</dt><dd><dl class="simple">
<dt>0 degrees: front</dt><dd><ul class="simple">
<li><p>000_left: The left channel of the BRIR for 0 degrees.</p></li>
<li><p>000_right: The right channel of the BRIR for 0 degrees.</p></li>
</ul>
</dd>
<dt>-90 degrees: left</dt><dd><ul class="simple">
<li><p>m90_left: The left channel of the BRIR for -90 degrees.</p></li>
<li><p>m90_right: The right channel of the BRIR for -90 degrees.</p></li>
</ul>
</dd>
<dt>90 degrees: right</dt><dd><ul class="simple">
<li><p>p90_left: The left channel of the BRIR for 90 degrees.</p></li>
<li><p>p90_right: The right channel of the BRIR for 90 degrees.</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="recipes.cad1.task2.baseline.car_scene_acoustics.CarSceneAcoustics.ANECHOIC_HRTF_FOR_NOISE">
<span class="sig-name descname"><span class="pre">ANECHOIC_HRTF_FOR_NOISE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'000_left':</span> <span class="pre">'HR36_E02_CH1_Left.wav',</span> <span class="pre">'000_right':</span> <span class="pre">'HR36_E02_CH1_Right.wav',</span> <span class="pre">'m90_left':</span> <span class="pre">'HR0_E02_CH1_Left.wav',</span> <span class="pre">'m90_right':</span> <span class="pre">'HR0_E02_CH1_Right.wav',</span> <span class="pre">'p90_left':</span> <span class="pre">'HR72_E02_CH1_Left.wav',</span> <span class="pre">'p90_right':</span> <span class="pre">'HR72_E02_CH1_Right.wav'}</span></em><a class="headerlink" href="#recipes.cad1.task2.baseline.car_scene_acoustics.CarSceneAcoustics.ANECHOIC_HRTF_FOR_NOISE" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="recipes.cad1.task2.baseline.car_scene_acoustics.CarSceneAcoustics.add_anechoic_hrtf_to_noise">
<span class="sig-name descname"><span class="pre">add_anechoic_hrtf_to_noise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">noise_signal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/recipes/cad1/task2/baseline/car_scene_acoustics.html#CarSceneAcoustics.add_anechoic_hrtf_to_noise"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#recipes.cad1.task2.baseline.car_scene_acoustics.CarSceneAcoustics.add_anechoic_hrtf_to_noise" title="Link to this definition"></a></dt>
<dd><p>Adds the Anechoic HRTF to the noise signal.
:param noise_signal: A numpy array representing the different components</p>
<blockquote>
<div><p>of the car noise signal.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The noise signal with the Anechoic HRTF applied.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="recipes.cad1.task2.baseline.car_scene_acoustics.CarSceneAcoustics.add_hrtf_to_stereo_signal">
<span class="sig-name descname"><span class="pre">add_hrtf_to_stereo_signal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrtf_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/recipes/cad1/task2/baseline/car_scene_acoustics.html#CarSceneAcoustics.add_hrtf_to_stereo_signal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#recipes.cad1.task2.baseline.car_scene_acoustics.CarSceneAcoustics.add_hrtf_to_stereo_signal" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Add a head rotation transfer function using binaural room impulse</dt><dd><p>response (BRIR) from eBrird.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signal</strong> (<em>np.ndarray</em>) – a numpy array of shape (2, n_samples) containing the
stereo audio signal.</p></li>
<li><p><strong>hrir</strong> – a dictionary containing the HRIR (head-related impulse response)
filenames.</p></li>
<li><p><strong>hrtf_type</strong> – the type of HRTF to use. Can be either “Anechoic” or “Car”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>A numpy array of shape (2, n_samples) containing the stereo audio signal</dt><dd><p>with the BRIR added.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="recipes.cad1.task2.baseline.car_scene_acoustics.CarSceneAcoustics.add_two_signals">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">add_two_signals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signal1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signal2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/recipes/cad1/task2/baseline/car_scene_acoustics.html#CarSceneAcoustics.add_two_signals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#recipes.cad1.task2.baseline.car_scene_acoustics.CarSceneAcoustics.add_two_signals" title="Link to this definition"></a></dt>
<dd><p>Adds two signals together.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signal1</strong> (<em>np.ndarray</em>) – The first signal.</p></li>
<li><p><strong>signal2</strong> (<em>np.ndarray</em>) – The second signal.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The sum of the two signals.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="recipes.cad1.task2.baseline.car_scene_acoustics.CarSceneAcoustics.apply_car_acoustics_to_signal">
<span class="sig-name descname"><span class="pre">apply_car_acoustics_to_signal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">enh_signal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scene</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">listener</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="clarity.utils.html#clarity.utils.audiogram.Listener" title="clarity.utils.audiogram.Listener"><span class="pre">Listener</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrtf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">audio_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#recipes.cad1.task2.baseline.audio_manager.AudioManager" title="recipes.cad1.task2.baseline.audio_manager.AudioManager"><span class="pre">AudioManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DictConfig</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/recipes/cad1/task2/baseline/car_scene_acoustics.html#CarSceneAcoustics.apply_car_acoustics_to_signal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#recipes.cad1.task2.baseline.car_scene_acoustics.CarSceneAcoustics.apply_car_acoustics_to_signal" title="Link to this definition"></a></dt>
<dd><p>Applies the car acoustics to the enhanced signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>enh_signal</strong> (<em>np.ndarray</em>) – The enhanced signal to apply the car acoustics to.</p></li>
<li><p><strong>scene</strong> (<em>dict</em>) – The scene dictionary with the acoustics parameters.</p></li>
<li><p><strong>listener</strong> (<a class="reference internal" href="clarity.utils.html#clarity.utils.audiogram.Listener" title="clarity.utils.audiogram.Listener"><em>Listener</em></a>) – The listener characteristics.</p></li>
<li><p><strong>hrtf</strong> (<em>dict</em>) – A dictionary containing the head-related transfer functions
(HRTFs) for the listener being evaluated. This includes the left and
right HRTFs for the car and the anechoic room.</p></li>
<li><p><strong>audio_manager</strong> (<a class="reference internal" href="#recipes.cad1.task2.baseline.audio_manager.AudioManager" title="recipes.cad1.task2.baseline.audio_manager.AudioManager"><em>AudioManager</em></a>) – The audio manager object.</p></li>
<li><p><strong>config</strong> (<em>DictConfig</em>) – The config object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The enhanced signal with the car acoustics applied.
np.ndarray: The reference signal normalised to enhanced level.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="recipes.cad1.task2.baseline.car_scene_acoustics.CarSceneAcoustics.apply_hearing_aid">
<span class="sig-name descname"><span class="pre">apply_hearing_aid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">audiogram</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="clarity.utils.html#clarity.utils.audiogram.Audiogram" title="clarity.utils.audiogram.Audiogram"><span class="pre">Audiogram</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/recipes/cad1/task2/baseline/car_scene_acoustics.html#CarSceneAcoustics.apply_hearing_aid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#recipes.cad1.task2.baseline.car_scene_acoustics.CarSceneAcoustics.apply_hearing_aid" title="Link to this definition"></a></dt>
<dd><p>Applies the hearing aid:
It consists in NALR prescription and Compressor</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signal</strong> (<em>np.ndarray</em>) – The audio signal to be enhanced.</p></li>
<li><p><strong>audiogram</strong> (<a class="reference internal" href="clarity.utils.html#clarity.utils.audiogram.Audiogram" title="clarity.utils.audiogram.Audiogram"><em>Audiogram</em></a>) – The audiogram of the listener.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The enhanced audio signal.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="recipes.cad1.task2.baseline.car_scene_acoustics.CarSceneAcoustics.equalise_level">
<span class="sig-name descname"><span class="pre">equalise_level</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference_signal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/recipes/cad1/task2/baseline/car_scene_acoustics.html#CarSceneAcoustics.equalise_level"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#recipes.cad1.task2.baseline.car_scene_acoustics.CarSceneAcoustics.equalise_level" title="Link to this definition"></a></dt>
<dd><p>Equalises the level of the target signal to the reference signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signal</strong> (<em>np.ndarray</em>) – The target signal to equalise.</p></li>
<li><p><strong>reference_signal</strong> (<em>np.ndarray</em>) – The reference signal.</p></li>
<li><p><strong>max_level</strong> (<em>float</em>) – The maximum level of the target signal.
This to prevent clipping.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The equalised target signal.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="recipes.cad1.task2.baseline.car_scene_acoustics.CarSceneAcoustics.get_car_noise">
<span class="sig-name descname"><span class="pre">get_car_noise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">car_noise_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/recipes/cad1/task2/baseline/car_scene_acoustics.html#CarSceneAcoustics.get_car_noise"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#recipes.cad1.task2.baseline.car_scene_acoustics.CarSceneAcoustics.get_car_noise" title="Link to this definition"></a></dt>
<dd><p>Generates car noise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>car_noise_params</strong> (<em>dict</em>) – Car Noise Parameters as generated by
Class CarNoiseParameterGenerator</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>A numpy array representing the different components</dt><dd><p>of the car noise signal</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="recipes.cad1.task2.baseline.car_scene_acoustics.CarSceneAcoustics.preload_anechoic_hrtf">
<span class="sig-name descname"><span class="pre">preload_anechoic_hrtf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hrtf_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/recipes/cad1/task2/baseline/car_scene_acoustics.html#CarSceneAcoustics.preload_anechoic_hrtf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#recipes.cad1.task2.baseline.car_scene_acoustics.CarSceneAcoustics.preload_anechoic_hrtf" title="Link to this definition"></a></dt>
<dd><p>Loads the Anechoic BRIRs from the eBrird database for the given directions.
Using the following directions:</p>
<blockquote>
<div><p>0 degrees: front
-90 degrees: left
90 degrees: right</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>brird_dir</strong> (<em>str</em>) – The path to the directory containing the BRIR files.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="recipes.cad1.task2.baseline.car_scene_acoustics.CarSceneAcoustics.scale_signal_to_snr">
<span class="sig-name descname"><span class="pre">scale_signal_to_snr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference_signal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/recipes/cad1/task2/baseline/car_scene_acoustics.html#CarSceneAcoustics.scale_signal_to_snr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#recipes.cad1.task2.baseline.car_scene_acoustics.CarSceneAcoustics.scale_signal_to_snr" title="Link to this definition"></a></dt>
<dd><p>Scales the target signal to the desired SNR.
We transpose channel because pylodnorm operates
on arrays with shape [n_samples, n_channels].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target_signal</strong> (<em>np.ndarray</em>) – The target signal to scale.</p></li>
<li><p><strong>reference_signal</strong> (<em>np.ndarray</em>) – The reference signal.</p></li>
<li><p><strong>snr</strong> (<em>float</em>) – The desired SNR gain in dB.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The scaled target signal.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-recipes.cad1.task2.baseline.enhance">
<span id="recipes-cad1-task2-baseline-enhance-module"></span><h2>recipes.cad1.task2.baseline.enhance module<a class="headerlink" href="#module-recipes.cad1.task2.baseline.enhance" title="Link to this heading"></a></h2>
<p>Run the dummy enhancement.</p>
<dl class="py function">
<dt class="sig sig-object py" id="recipes.cad1.task2.baseline.enhance.compute_average_hearing_loss">
<span class="sig-prename descclassname"><span class="pre">recipes.cad1.task2.baseline.enhance.</span></span><span class="sig-name descname"><span class="pre">compute_average_hearing_loss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">listener</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="clarity.utils.html#clarity.utils.audiogram.Listener" title="clarity.utils.audiogram.Listener"><span class="pre">Listener</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/recipes/cad1/task2/baseline/enhance.html#compute_average_hearing_loss"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#recipes.cad1.task2.baseline.enhance.compute_average_hearing_loss" title="Link to this definition"></a></dt>
<dd><p>Compute the average hearing loss of a listener.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>listener</strong> (<a class="reference internal" href="clarity.utils.html#clarity.utils.audiogram.Listener" title="clarity.utils.audiogram.Listener"><em>Listener</em></a>) – The listener.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The average hearing loss of the listener.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>average_hearing_loss (float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="recipes.cad1.task2.baseline.enhance.enhance">
<span class="sig-prename descclassname"><span class="pre">recipes.cad1.task2.baseline.enhance.</span></span><span class="sig-name descname"><span class="pre">enhance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DictConfig</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/recipes/cad1/task2/baseline/enhance.html#enhance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#recipes.cad1.task2.baseline.enhance.enhance" title="Link to this definition"></a></dt>
<dd><p>Run the music enhancement.
The baseline system is a dummy processor that returns the input signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> (<em>dict</em>) – Dictionary of configuration options for enhancing music.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="recipes.cad1.task2.baseline.enhance.enhance_song">
<span class="sig-prename descclassname"><span class="pre">recipes.cad1.task2.baseline.enhance.</span></span><span class="sig-name descname"><span class="pre">enhance_song</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">waveform</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">listener</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="clarity.utils.html#clarity.utils.audiogram.Listener" title="clarity.utils.audiogram.Listener"><span class="pre">Listener</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DictConfig</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/recipes/cad1/task2/baseline/enhance.html#enhance_song"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#recipes.cad1.task2.baseline.enhance.enhance_song" title="Link to this definition"></a></dt>
<dd><p>Enhance a single song for a listener.</p>
<p>Baseline enhancement returns the signal with a loudness
of -14 LUFS if the average hearing loss is below 50 dB HL,
and -11 LUFS otherwise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>waveform</strong> (<em>np.ndarray</em>) – The waveform of the song.</p></li>
<li><p><strong>listener</strong> (<a class="reference internal" href="clarity.utils.html#clarity.utils.audiogram.Listener" title="clarity.utils.audiogram.Listener"><em>Listener</em></a>) – The listener.</p></li>
<li><p><strong>config</strong> (<em>dict</em>) – Dictionary of configuration options for enhancing music.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The enhanced left channel.
out_right (np.ndarray): The enhanced right channel.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>out_left (np.ndarray)</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-recipes.cad1.task2.baseline.evaluate">
<span id="recipes-cad1-task2-baseline-evaluate-module"></span><h2>recipes.cad1.task2.baseline.evaluate module<a class="headerlink" href="#module-recipes.cad1.task2.baseline.evaluate" title="Link to this heading"></a></h2>
<p>Evaluate the enhanced signals using the HAAQI metric.</p>
<dl class="py function">
<dt class="sig sig-object py" id="recipes.cad1.task2.baseline.evaluate.evaluate_scene">
<span class="sig-prename descclassname"><span class="pre">recipes.cad1.task2.baseline.evaluate.</span></span><span class="sig-name descname"><span class="pre">evaluate_scene</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ref_signal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enh_signal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_rate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scene_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current_scene</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">listener</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="clarity.utils.html#clarity.utils.audiogram.Listener" title="clarity.utils.audiogram.Listener"><span class="pre">Listener</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">car_scene_acoustic</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#recipes.cad1.task2.baseline.car_scene_acoustics.CarSceneAcoustics" title="recipes.cad1.task2.baseline.car_scene_acoustics.CarSceneAcoustics"><span class="pre">CarSceneAcoustics</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrtf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DictConfig</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/recipes/cad1/task2/baseline/evaluate.html#evaluate_scene"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#recipes.cad1.task2.baseline.evaluate.evaluate_scene" title="Link to this definition"></a></dt>
<dd><p>Evaluate a single scene and return HAAQI scores for left and right ears</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ref_signal</strong> (<em>np.ndarray</em>) – A numpy array of shape (2, n_samples)
containing the reference signal.</p></li>
<li><p><strong>enh_signal</strong> (<em>np.ndarray</em>) – A numpy array of shape (2, n_samples)
containing the enhanced signal.</p></li>
<li><p><strong>sample_rate</strong> (<em>int</em>) – The sampling frequency of the reference and enhanced signals.</p></li>
<li><p><strong>scene_id</strong> (<em>str</em>) – A string identifier for the scene being evaluated.</p></li>
<li><p><strong>current_scene</strong> (<em>dict</em>) – A dictionary containing information about the scene being
evaluated, including the song ID, the listener ID, the car noise type, and
the split.</p></li>
<li><p><strong>listener</strong> (<a class="reference internal" href="clarity.utils.html#clarity.utils.audiogram.Listener" title="clarity.utils.audiogram.Listener"><em>Listener</em></a>) – the listener to use</p></li>
<li><p><strong>car_scene_acoustic</strong> (<a class="reference internal" href="#recipes.cad1.task2.baseline.car_scene_acoustics.CarSceneAcoustics" title="recipes.cad1.task2.baseline.car_scene_acoustics.CarSceneAcoustics"><em>CarSceneAcoustics</em></a>) – An instance of the CarSceneAcoustics
class, which is used to generate car noise and add binaural room impulse
responses (BRIRs) to the enhanced signal.</p></li>
<li><p><strong>hrtf</strong> (<em>dict</em>) – A dictionary containing the head-related transfer functions (HRTFs)
for the listener being evaluated. This includes the left and right HRTFs for
the car and the anechoic room.</p></li>
<li><p><strong>config</strong> (<em>DictConfig</em>) – A dictionary-like object containing various configuration
parameters for the evaluation. This includes the path to the enhanced signal
folder,the path to the music directory, and a flag indicating whether to set
a random seed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing HAAQI scores for left and right ears.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[float, float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="recipes.cad1.task2.baseline.evaluate.run_calculate_audio_quality">
<span class="sig-prename descclassname"><span class="pre">recipes.cad1.task2.baseline.evaluate.</span></span><span class="sig-name descname"><span class="pre">run_calculate_audio_quality</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DictConfig</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/recipes/cad1/task2/baseline/evaluate.html#run_calculate_audio_quality"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#recipes.cad1.task2.baseline.evaluate.run_calculate_audio_quality" title="Link to this definition"></a></dt>
<dd><p>Evaluate the enhanced signals using the HAAQI metric.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="recipes.cad1.task2.baseline.evaluate.set_scene_seed">
<span class="sig-prename descclassname"><span class="pre">recipes.cad1.task2.baseline.evaluate.</span></span><span class="sig-name descname"><span class="pre">set_scene_seed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scene</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/recipes/cad1/task2/baseline/evaluate.html#set_scene_seed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#recipes.cad1.task2.baseline.evaluate.set_scene_seed" title="Link to this definition"></a></dt>
<dd><p>Set a seed that is unique for the given song
based on the last 8 characters of the ‘md5’
<cite>.hexdigest</cite> of the scene itself.</p>
</dd></dl>

</section>
<section id="module-recipes.cad1.task2.baseline.merge_batches_results">
<span id="recipes-cad1-task2-baseline-merge-batches-results-module"></span><h2>recipes.cad1.task2.baseline.merge_batches_results module<a class="headerlink" href="#module-recipes.cad1.task2.baseline.merge_batches_results" title="Link to this heading"></a></h2>
<p>Join batches scores into a single file.</p>
<dl class="py function">
<dt class="sig sig-object py" id="recipes.cad1.task2.baseline.merge_batches_results.join_batches">
<span class="sig-prename descclassname"><span class="pre">recipes.cad1.task2.baseline.merge_batches_results.</span></span><span class="sig-name descname"><span class="pre">join_batches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DictConfig</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/recipes/cad1/task2/baseline/merge_batches_results.html#join_batches"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#recipes.cad1.task2.baseline.merge_batches_results.join_batches" title="Link to this definition"></a></dt>
<dd><p>Join batches scores into a single file.</p>
</dd></dl>

</section>
<section id="module-recipes.cad1.task2.baseline.test">
<span id="recipes-cad1-task2-baseline-test-module"></span><h2>recipes.cad1.task2.baseline.test module<a class="headerlink" href="#module-recipes.cad1.task2.baseline.test" title="Link to this heading"></a></h2>
<p>Run the dummy enhancement.</p>
<dl class="py function">
<dt class="sig sig-object py" id="recipes.cad1.task2.baseline.test.enhance">
<span class="sig-prename descclassname"><span class="pre">recipes.cad1.task2.baseline.test.</span></span><span class="sig-name descname"><span class="pre">enhance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DictConfig</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/recipes/cad1/task2/baseline/test.html#enhance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#recipes.cad1.task2.baseline.test.enhance" title="Link to this definition"></a></dt>
<dd><p>Run the music enhancement.
The baseline system is a dummy processor that returns the input signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> (<em>dict</em>) – Dictionary of configuration options for enhancing music.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="recipes.cad1.task2.baseline.test.pack_submission">
<span class="sig-prename descclassname"><span class="pre">recipes.cad1.task2.baseline.test.</span></span><span class="sig-name descname"><span class="pre">pack_submission</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">team_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'.'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/recipes/cad1/task2/baseline/test.html#pack_submission"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#recipes.cad1.task2.baseline.test.pack_submission" title="Link to this definition"></a></dt>
<dd><p>Pack the submission files into an archive file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>team_id</strong> (<em>str</em>) – Team ID.</p></li>
<li><p><strong>root_dir</strong> (<em>str</em><em> | </em><em>Path</em>) – Root directory of the archived file.</p></li>
<li><p><strong>base_dir</strong> (<em>str</em><em> | </em><em>Path</em>) – Base directory to archive. Defaults to “.”.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-recipes.cad1.task2.baseline">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-recipes.cad1.task2.baseline" title="Link to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020-2025, pyClarity authors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>